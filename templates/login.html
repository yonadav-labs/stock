{% extends 'base.html' %} 

{% block css %}
{% endblock %}

{% block login %}
{% endblock %}

{% block body %}
<div class="container">
  <div class="row mt-5">
    <div class="offset-md-2 col-md-8">
      <div class="modal-header">
        <h3 class="modal-title">Sign in</h3>
      </div>
      
      <!-- Modal body -->
      <form class="login form-inline ajax-post" method="POST" action="/home">
      <div class="modal-body">
          {% csrf_token %}
          <div class="form-group mt-3" style="width: 100%;">
              <label class="control-label col-sm-3" for="id_login1">Email:</label>
              <div class="col-sm-8">
                  <input id="id_email" name="email" placeholder="Email" type="email" class="form-control" required="">
              </div>
          </div>
          <div class="form-group mt-3" style="width: 100%;">
              <label class="control-label col-sm-3" for="id_password">Password:</label>
              <div class="col-sm-8">
                  <input id="id_password" name="password" placeholder="Password" type="password" class="input-xlarge form-control" required="">
              </div>
          </div>
          <div class="col-sm-8 offset-sm-3 mt-3">
            <div class="api-response text-danger"></div>
          </div>
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer col-10">
        <button type="submit" class="btn btn-success">Sign In</button>
      </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
<script type="text/javascript">
  $().ready(function(){
    $('form.ajax-post').submit(function(e){
      var email = $('#id_email').val();
      var password = $('#id_password').val();

      if (email == 'jason@pipex.com' && password == 'purim5778') {
      } else {
         $('.api-response').html('The credential is incorrect.');
        e.preventDefault();
        return false;
      }
    });    
  });
</script>
{% endblock %}
